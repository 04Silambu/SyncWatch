<!DOCTYPE html>
<html>

<head>
    <title>SyncWatch</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <h2>SyncWatch – Phase 2</h2>

    <button onclick="createRoom()">Create Room</button>

    <p id="b"></p>

    <input id="c" placeholder="Enter Room ID">
    <button onclick="joinRoom()">Join Room</button>

    <!-- Room Control Buttons -->
    <div id="room-controls" style="display: none; margin: 20px 0;">
        <button id="delete-room-btn" onclick="deleteRoom()" style="background: red; color: white; display: none;">Delete
            Room</button>
        <button id="exit-room-btn" onclick="exitRoom()" style="background: orange; color: white; display: none;">Exit
            Room</button>
    </div>

    <div id="upload-section" style="display: none; margin: 20px 0;">
        <h4>Upload Video (Host Only)</h4>

        <div style="margin: 10px 0;">
            <label for="movie-name-input">Movie Name: <span style="color: red;">*</span></label><br>
            <input type="text" id="movie-name-input" placeholder="Enter movie name" style="width: 300px; padding: 5px;">
        </div>

        <div style="margin: 10px 0;">
            <label for="genre-select">Genre: <span style="color: red;">*</span></label><br>
            <select id="genre-select" style="width: 312px; padding: 5px;">
                <option value="">-- Select Genre --</option>
                <option value="Action">Action</option>
                <option value="Adventure">Adventure</option>
                <option value="Animation">Animation</option>
                <option value="Comedy">Comedy</option>
                <option value="Drama">Drama</option>
                <option value="Horror">Horror</option>
                <option value="Thriller">Thriller</option>
                <option value="Romance">Romance</option>
                <option value="Sci-Fi">Sci-Fi</option>
                <option value="Fantasy">Fantasy</option>
                <option value="Mystery">Mystery</option>
                <option value="Crime">Crime</option>
                <option value="Biography">Biography</option>
                <option value="Documentary">Documentary</option>
                <option value="Musical">Musical</option>
            </select>
        </div>

        <div style="margin: 10px 0;">
            <label for="video-upload">Select Video File: <span style="color: red;">*</span></label><br>
            <input type="file" id="video-upload" accept="video/*" disabled>
            <p id="upload-hint" style="color: #ff6b6b; font-size: 12px; margin: 5px 0;">
                ⚠️ Please enter movie name and select genre first
            </p>
        </div>
    </div>

    <video id="e" controls width="400"></video>

    <hr>

    <h3>Live Chat</h3>

    <div id="chat-box" style="
        width: 400px;
        height: 150px;
        border: 1px solid #ccc;
        overflow-y: auto;
        margin: 0 auto 10px;
        padding: 5px;
        text-align: left;
    "></div>

    <input id="chat-input" placeholder="Type a message..." style="width: 300px;">
    <button onclick="sendMessage()">Send</button>

    <h3>Watch History</h3>
    <table border="1" align="center">

        <thead>
            <tr>
                <th>Movie</th>
                <th>Genre</th>
                <th>Duration (sec)</th>
                <th>Date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="history-body"></tbody>
    </table>

    <h3>Recommended for You</h3>
    <p id="recommendation-info" style="color: #666; font-size: 14px;"></p>
    <ul id="recommendation-list" style="list-style: none; padding: 0;"></ul>


    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>

</html>